<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EMS Tools</title>
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>EMS 远程管理工具</h1>
    </header>
    
    <div class="main-content">
      <div class="sidebar">
        <nav>
          <ul>
            <li><a href="#" data-tab="connection" class="active">SSH连接</a></li>
            <li><a href="#" data-tab="file-transfer">文件传输</a></li>
            <li><a href="#" data-tab="network">网络配置</a></li>
            <li><a href="#" data-tab="services">服务管理</a></li>
            <li><a href="#" data-tab="logs">操作日志</a></li>
          </ul>
        </nav>
      </div>
      
      <div class="content">
        <!-- SSH连接面板 -->
        <div class="tab-panel active" id="connection-panel">
          <h2>SSH连接</h2>
          <form id="ssh-form">
            <div class="form-group">
              <label for="host">主机地址</label>
              <input type="text" id="host" name="host" placeholder="192.168.1.100" required>
            </div>
            <div class="form-group">
              <label for="port">端口</label>
              <input type="number" id="port" name="port" value="22" required>
            </div>
            <div class="form-group">
              <label for="username">用户名</label>
              <input type="text" id="username" name="username" placeholder="root" required>
            </div>
            <div class="form-group">
              <label for="password">密码</label>
              <input type="password" id="password" name="password" required>
            </div>
            <div class="form-actions">
              <button type="submit" id="connect-btn">连接</button>
              <button type="button" id="disconnect-btn" disabled>断开连接</button>
            </div>
          </form>
          <div class="connection-status">
            <span id="status-indicator" class="status-disconnected"></span>
            <span id="status-text">未连接</span>
          </div>
        </div>
        
        <!-- 文件传输面板 -->
        <div class="tab-panel" id="file-transfer-panel">
          <h2>文件传输</h2>
          <form id="file-transfer-form">
            <div class="form-group">
              <label for="local-file">本地文件</label>
              <div class="file-input-container">
                <input type="text" id="local-file-path" readonly>
                <button type="button" id="select-file-btn">选择文件</button>
              </div>
            </div>
            <div class="form-group">
              <label for="remote-path">远程路径</label>
              <input type="text" id="remote-path" value="/ems/" required>
            </div>
            <div class="form-actions">
              <button type="submit" id="upload-btn" disabled>上传文件</button>
            </div>
          </form>
          <div class="upload-progress" style="display: none;">
            <div class="progress-bar">
              <div class="progress-fill"></div>
            </div>
            <div class="progress-text">0%</div>
          </div>
        </div>
        
        <!-- 网络配置面板 -->
        <div class="tab-panel" id="network-panel">
          <h2>网络配置</h2>
          <div class="network-interfaces">
            <h3>网络接口</h3>
            <div class="interface-list">
              <select id="interface-select">
                <option value="">-- 选择网络接口 --</option>
              </select>
              <button id="refresh-interfaces-btn">刷新</button>
            </div>
          </div>
          <div class="interface-config" style="display: none;">
            <h3>接口配置</h3>
            <form id="network-config-form">
              <div class="form-group">
                <label for="ip-address">IP地址</label>
                <input type="text" id="ip-address" name="ip-address" required>
              </div>
              <div class="form-group">
                <label for="netmask">子网掩码</label>
                <input type="text" id="netmask" name="netmask" required>
              </div>
              <div class="form-group">
                <label for="gateway">默认网关</label>
                <input type="text" id="gateway" name="gateway">
              </div>
              <div class="form-actions">
                <button type="submit" id="save-network-btn">保存配置</button>
              </div>
            </form>
          </div>
        </div>
        
        <!-- 服务管理面板 -->
        <div class="tab-panel" id="services-panel">
          <h2>服务管理</h2>
          <div class="service-tabs">
            <button class="service-tab active" data-service-tab="manage">管理服务</button>
            <button class="service-tab" data-service-tab="import">导入服务</button>
          </div>
          
          <div class="service-panel active" id="manage-service-panel">
            <div class="service-list">
              <div class="service-item">
                <input type="text" id="service-name" placeholder="输入服务名称">
                <button id="check-service-btn">查询</button>
              </div>
              <div class="service-status" style="display: none;">
                <div class="status-row">
                  <span class="status-label">状态:</span>
                  <span id="service-status-text">-</span>
                </div>
                <div class="status-row">
                  <span class="status-label">自启动:</span>
                  <span id="service-enabled-text">-</span>
                </div>
                <div class="service-actions">
                  <button id="start-service-btn">启动</button>
                  <button id="stop-service-btn">停止</button>
                  <button id="enable-service-btn">启用自启动</button>
                  <button id="disable-service-btn">禁用自启动</button>
                </div>
              </div>
            </div>
          </div>
          
          <div class="service-panel" id="import-service-panel">
            <form id="import-service-form">
              <div class="form-group">
                <label for="service-file-name">服务名称</label>
                <input type="text" id="service-file-name" required>
              </div>
              <div class="form-group">
                <label for="service-file-path">服务文件路径</label>
                <input type="text" id="service-file-path" value="/etc/systemd/system/" required>
              </div>
              <div class="form-group">
                <label for="service-content">服务文件内容</label>
                <textarea id="service-content" rows="10" required></textarea>
              </div>
              <div class="form-group checkbox">
                <input type="checkbox" id="enable-autostart">
                <label for="enable-autostart">导入后启用自启动</label>
              </div>
              <div class="form-actions">
                <button type="submit" id="import-service-btn">导入服务</button>
              </div>
            </form>
          </div>
        </div>
        
        <!-- 操作日志面板 -->
        <div class="tab-panel" id="logs-panel">
          <h2>操作日志</h2>
          <div class="log-actions">
            <button id="refresh-logs-btn">刷新</button>
            <button id="clear-logs-btn">清空</button>
          </div>
          <div class="log-container">
            <table class="log-table">
              <thead>
                <tr>
                  <th>时间</th>
                  <th>级别</th>
                  <th>消息</th>
                </tr>
              </thead>
              <tbody id="log-entries">
                <!-- 日志条目将在这里动态添加 -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    
    <footer>
      <div class="status-bar">
        <div id="connection-info">未连接</div>
      </div>
    </footer>
  </div>

  <script src="./main.js" type="module"></script>
</body>
</html> 